@using Radzen.Blazor;
@using Radzen;

@inject TooltipService TooltipService

<style>
    .mycolor-press {
        color: rgba(28, 49, 90);
    }

    .mycolor-default {
        color: white;
    }
</style>

<RadzenSidebar Visible="@visibleSideBar" Responsive="true" Style="width: max-content; height: 100%">
    <RadzenPanelMenu DisplayStyle="@(sidebarExpanded ? MenuItemDisplayStyle.IconAndText : MenuItemDisplayStyle.Icon)" ShowArrow="true" Style="width: fit-content; height: 100%;">
        <RadzenStack Gap="0" Orientation="Orientation.Vertical" Style="height: 100%; padding-top: 50px" JustifyContent="JustifyContent.Start">
            <RadzenStack Visible=false Style="padding-bottom: 20px">
                <RadzenImage Visible="@(sidebarExpanded)" Path="properties/image/Logo_avs.png" Style="width: 200px; height: 150px" AlternateText="community" />
            </RadzenStack>
            <RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Quản lý kế hoạch sản xuất"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Theo dõi sản xuất" Path="pagedskhsanxuats" Icon="monitoring"></RadzenPanelMenuItem>
            @*<RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Quản lý kế hoạch sản xuất"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Kế hoạch sản xuất" Path="khsxmanagement" Icon="assignment_add"></RadzenPanelMenuItem>*@
            <RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Quản lý nguyên vật liệu"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Kho nguyên vật liệu" Path="khomanagement" Icon="warehouse"></RadzenPanelMenuItem>
            <RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Quản lý sản phẩm"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Sản phẩm" Path="spmanagementv2" Icon="shopping_cart"></RadzenPanelMenuItem>
            <RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Quản lý máy móc-thiết bị"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Máy móc - Thiết bị" Path="mmtbmanagement" Icon="precision_manufacturing"></RadzenPanelMenuItem>
            <RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Quản lý nhân viên"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Nhân viên" Path="nvmanagement" Icon="manage_accounts"></RadzenPanelMenuItem>
            <RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Quản lý thành phẩm"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Kho thành phẩm" Path="khotpmanagement" Icon="inventory"></RadzenPanelMenuItem>
            @*<RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Modbus communication"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Communication" Path="modbustest" Icon="hub"></RadzenPanelMenuItem>*@
            @*<RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Camera"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Camera" Path="camera" Icon="camera"></RadzenPanelMenuItem>*@
            <RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Quản lý công đoạn"))" Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Công đoạn" Path="nguyencong_management" Icon="manufacturing"></RadzenPanelMenuItem>
            <RadzenPanelMenuItem MouseEnter="@(args => ShowToolTip(args, TooltipPosition.Bottom, "Quản lý tài khoảng"))"
                                 Style="padding-bottom: 5px; color: white" IconColor="color: white" Text="Account Manage" Path="account-management" Icon="manage_accounts">
            </RadzenPanelMenuItem>
        </RadzenStack>
    </RadzenPanelMenu>
</RadzenSidebar>

@code
{
    [Parameter]
    public bool sidebarExpanded { get; set; }

    [Parameter]
    public bool visibleSideBar { get; set; }

    private string stylecolor = "mycolor-press";

    private void MenuItemClick(MenuItemEventArgs eventArgs)
    {
        if (stylecolor == "mycolor-default")
        {
            stylecolor = "mycolor-press";
        }
        else
            stylecolor = "mycolor-default";
    }
    // Tooltip
    void ShowToolTip(ElementReference elementReference, TooltipPosition position, string content)
    {
        if (!sidebarExpanded)
        {
            TooltipOptions options = new TooltipOptions() { Position = position, Delay = 50, Style = "background-color: black" };

            TooltipService.Open(elementReference, content, options);
        }
    }
}
